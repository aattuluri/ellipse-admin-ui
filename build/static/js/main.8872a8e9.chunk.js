(this["webpackJsonpellipse-admin"]=this["webpackJsonpellipse-admin"]||[]).push([[0],{230:function(e,t,a){e.exports=a(514)},514:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),i=a(210),c=a(14),s=a(35),m=a.n(s),u=a(46),p=a(64),d=a(10),g=a(606),h=a(573),E=a(568),f=a(607),v=a(200),b=a.n(v),y=a(515),j=a(566),O=a(567),C=a(604),k=a(603),S=a(574);function w(e){return r.a.createElement(k.a,Object.assign({elevation:6,variant:"filled"},e))}var x=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(e){var t=e.history,a=x(),n=localStorage.getItem("token"),o=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(o,2),i=l[0],s=l[1],v=r.a.useState(!1),j=Object(d.a)(v,2),k=j[0],T=j[1],_=i.vertical,I=i.horizontal,N=i.open,D=i.message,z=i.type,A=i.autoHide;if(n)return r.a.createElement(c.a,{to:"/home"});var B=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement(E.a,null),r.a.createElement(C.a,{anchorOrigin:{vertical:_,horizontal:I},open:N,autoHideDuration:A,onClose:B,key:_+I},r.a.createElement(w,{onClose:B,severity:z},D)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(b.a,{color:"primary"})),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),T(!0);var a=e.target.elements,n=a.username,r=a.password;try{var o=new FormData,l={username:n.value,password:r.value};o=JSON.stringify(l),fetch("https://staging.ellipseapp.com/api/admin/signin",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:o}).then((function(e){200===e.status?e.json().then((function(e){localStorage.setItem("token",e.token),t.push("/home"),s({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:300})})):(T(!1),s({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(i){console.log(i),T(!1),s({open:!0,vertical:"top",horizontal:"center",message:i.message,type:"error",autoHide:3e3})}}},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"off",autoFocus:!0}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:k},k?r.a.createElement(S.a,{color:"primary",size:24}):"Sign In"))))}var _=a(54),I=a(597),N=a(598),D=a(215),z=a(9),A=a(209),B=a.n(A),P=a(581),H=a(214),W=a(601),R=a(590),q=a(575),L=a(578),F=a(577),G=a(576),J=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function M(e){var t=J(),a=e.event;return r.a.createElement(q.a,{className:t.root},r.a.createElement(G.a,{component:"img",height:"180",image:"https://staging.ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}),r.a.createElement(F.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),r.a.createElement(L.a,null,r.a.createElement(h.a,{onClick:function(){e.handleViewClick(e.event)},size:"small",color:"primary"},"view")))}var U=a(582),V=a(580),K=a(579),Y=a(605),Q=a(565),X=a(207),Z=a.n(X),$=a(40),ee=a(208),te=a.n(ee),ae=a(201),ne=a.n(ae);function re(e){return r.a.createElement(k.a,Object.assign({elevation:6,variant:"filled"},e))}function oe(e){var t=Object($.a)(),a=r.a.useState(null),n=Object(d.a)(a,2),o=n[0],l=n[1],i=e.event,c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),g=s[0],E=s[1],v=g.vertical,b=g.horizontal,y=g.open,j=g.message,O=g.type,k=g.autoHide;r.a.useEffect((function(){l("https://ellipseapp.com/un/event/".concat(i._id))}),[i._id]);var S=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:E({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(C.a,{anchorOrigin:{vertical:v,horizontal:b},open:y,autoHideDuration:k,onClose:S,key:v+b},r.a.createElement(re,{onClose:S,severity:O},j)),r.a.createElement(Y.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(K.a,{id:"form-dialog-title"},i.name),r.a.createElement(V.a,null,r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:11},r.a.createElement(f.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){l(e.target.value)}})),r.a.createElement(P.a,{item:!0,xs:1},r.a.createElement(Q.a,{onClick:function(){return w(o)}},r.a.createElement(ne.a,null))))),r.a.createElement(U.a,null,r.a.createElement(h.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}function le(e){return r.a.createElement(k.a,Object.assign({elevation:6,variant:"filled"},e))}function ie(e){var t=Object($.a)(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),o=Object(d.a)(n,2),l=o[0],i=o[1],c=r.a.useState(!1),s=Object(d.a)(c,2),g=s[0],E=s[1],v=l.vertical,b=l.horizontal,y=l.open,j=l.message,O=l.type,k=l.autoHide,w=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=r.a.useState(null),T=Object(d.a)(x,2),_=T[0],I=T[1],N=r.a.useState(null),D=Object(d.a)(N,2),z=D[0],A=D[1],B=e.event;return r.a.createElement("div",null,r.a.createElement(C.a,{anchorOrigin:{vertical:v,horizontal:b},open:y,autoHideDuration:k,onClose:w,key:v+b},r.a.createElement(le,{onClose:w,severity:O},j)),r.a.createElement(Y.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(K.a,{id:"form-dialog-title"},"Send email to organizer(",B.name,")"),r.a.createElement(V.a,null,r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(f.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:_||"",required:!0,onChange:function(e){I(e.target.value)},autoComplete:"off"})),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(f.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:z||"",required:!0,onChange:function(e){A(e.target.value)},autoComplete:"off"})))),r.a.createElement(U.a,null,r.a.createElement(h.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(h.a,{onClick:function(){E(!0);try{var t=new FormData,n={userId:B.user_id,title:_,content:z};t=JSON.stringify(n),fetch("https://staging.ellipseapp.com/api/admin/event/sendemail",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){"success"===t.message&&(E(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){E(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(S.a,{color:"primary",size:24}):"Send"))))}var ce=a(23),se=a(111),me=a(202),ue=a(610),pe=Object(j.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var de=function(e){var t=pe(),a=(e.children,e.value),n=(e.url,e.index),o=Object(se.a)(e,["children","value","url","index"]),l=e.event,i=l.tags,c=r.a.useState("Registration Ends in"),s=Object(d.a)(c,2),m=s[0],u=s[1],p=function(){var e=+new Date(l.registration_end_time)-+new Date,t={};return e<0&&(e=+new Date(l.start_time)-+new Date),e<0&&(e=+new Date(l.finish_time)-+new Date),e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},g=r.a.useState(p()),h=Object(d.a)(g,2),E=h[0],f=h[1];r.a.useEffect((function(){var e=setTimeout((function(){u(function(){var e=+new Date(l.registration_end_time)-+new Date,t="Registration ends in";return e<0&&(t="Starts in",e=+new Date(l.start_time)-+new Date),e<0&&(t="Ends in",e=+new Date(l.finish_time)-+new Date),t}()),f(p())}),1e3);return function(){Object(me.a)(),clearTimeout(e)}}));var v=[];return Object.keys(E).forEach((function(e){E[e]&&v.push(r.a.createElement("span",{key:e},E[e]," ",e," "))})),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},o),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{container:!0,component:"main"},r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement("img",{style:{maxWidth:"250px"},alt:"event poster",src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(l.poster_url)})),r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(y.a,null,l.description," This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."),r.a.createElement(y.a,{style:{marginTop:"20px",marginBottom:"20"}},m),r.a.createElement(y.a,{variant:"h5"},v.length?v:r.a.createElement("span",null,"Time's up!")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(ue.a,{variant:"outlined",color:"inherit",label:l.event_type}),r.a.createElement(ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:l.fee_type}),r.a.createElement(ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:l.event_mode}),null!=i&&i.map((function(e){return r.a.createElement(ue.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})})))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About"),r.a.createElement(y.a,{color:"textSecondary",variant:"body2"},Object(ce.a)(new Array(5)).map((function(){return"Cras mattis consectetur purus sit amet fermentum. \n                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.\n                                    Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                    Praesent commodo cursus magna, vel scelerisque nisl consectetur et."})).join("\n"))),r.a.createElement(P.a,{item:!0,xs:12}),r.a.createElement(P.a,null))))},ge=a(583),he=a(584),Ee=a(586),fe=a(588),ve=a(589),be=a(585),ye=a(587),je=a(113),Oe=a.n(je),Ce=Object(j.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var ke=function(e){var t=Ce(),a=(e.children,e.value),n=(e.url,e.index),o=Object(se.a)(e,["children","value","url","index"]),l=e.event,i=new Date(l.start_time),c=new Date(l.finish_time),s=new Date(l.registration_end_time);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},o),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(ge.a,{align:"alternate"},r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(Oe.a,null)),r.a.createElement(fe.a,null)),r.a.createElement(ve.a,null,r.a.createElement(H.a,{elevation:3,className:t.paper},r.a.createElement(y.a,{variant:"h6",component:"h1"},"Registration Ends"),r.a.createElement(y.a,null,"Your oppurtunity to participate came to an end")))),r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{color:"primary",variant:"outlined"},r.a.createElement(Oe.a,null)),r.a.createElement(fe.a,null)),r.a.createElement(ve.a,null,r.a.createElement(H.a,{elevation:3,className:t.paper},r.a.createElement(y.a,{variant:"h6",component:"h1"},"Starts"),r.a.createElement(y.a,null,"Party begins")))),r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(Oe.a,null)),r.a.createElement(fe.a,{className:t.secondaryTail})),r.a.createElement(ve.a,null,r.a.createElement(H.a,{elevation:3,className:t.paper},r.a.createElement(y.a,{variant:"h6",component:"h1"},"Ends"),r.a.createElement(y.a,null,"Chill,event came to an end")))))))};function Se(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var we=Object(j.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(_.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)})}}));var xe=function(e){var t=e.event,a=r.a.useState(0),n=Object(d.a)(a,2),o=n[0],l=n[1],i=we(),c=Object($.a)(),s=localStorage.getItem("token"),m=r.a.useState(!1),u=Object(d.a)(m,2),p=u[0],g=u[1],E=r.a.useState(!1),f=Object(d.a)(E,2),v=f[0],b=f[1];function y(){e.handleClose()}return r.a.createElement(Y.a,{open:e.open,onClose:y,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:c.palette.secondary.main,boxShadow:"none"}},classes:{paper:i.dialog}},r.a.createElement(K.a,{id:"scroll-dialog-title"},t.name,r.a.createElement("div",{className:i.icons},r.a.createElement(Q.a,{"aria-label":"share",onClick:function(){g(!0)}},r.a.createElement(Z.a,null)),r.a.createElement(Q.a,{"aria-label":"close",className:i.closeButton,onClick:y},r.a.createElement(te.a,{fontSize:"large"}))),r.a.createElement("div",{className:i.root},r.a.createElement(H.a,{className:i.root2},r.a.createElement(W.a,{value:o,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(R.a,Object.assign({label:"About"},Se(0))),r.a.createElement(R.a,Object.assign({label:"Schedule"},Se(1))))))),r.a.createElement(V.a,{className:i.dialogContent,dividers:!0},r.a.createElement(oe,{event:t,open:p,handleClose:function(){g(!1)}}),r.a.createElement(de,{value:o,index:0,event:e.event}),r.a.createElement(ke,{value:o,index:1,event:e.event})),r.a.createElement(U.a,null,"pending"===t.status&&r.a.createElement(h.a,{variant:"contained",onClick:function(){var e=new FormData,a={eventId:t._id,status:"active"};e=JSON.stringify(a),fetch("https://staging.ellipseapp.com/api/admin/update_event_status",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),window.location.reload(!1)})):401===e.status&&localStorage.removeItem("token")}))}},"Accept"),"pending"!==t.status&&r.a.createElement(h.a,{variant:"contained",onClick:function(){var e=new FormData,a={eventId:t._id,status:"pending"};e=JSON.stringify(a),fetch("https://staging.ellipseapp.com/api/admin/update_event_status",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),window.location.reload(!1)})):401===e.status&&localStorage.removeItem("token")}))}},"Make Inactive"),r.a.createElement(h.a,{variant:"contained",onClick:function(){b(!0)},style:{marginLeft:"5px"}},"Send Email")),r.a.createElement(ie,{event:t,handleClose:function(){b(!1)},open:v}))},Te=a(5),_e=a(594),Ie=a(596),Ne=a(591),De=a(593),ze=a(595),Ae=a(592),Be=Object(Te.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Ne.a),Pe=Object(Te.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ae.a),He=Object(j.a)({table:{minWidth:700}});function We(e){var t=He(),a=e.users,n=r.a.useState([]),o=Object(d.a)(n,2),l=o[0],i=o[1];return r.a.useEffect((function(){a.forEach((function(e){var t,a,n,r,o,l=(t=e.name,a=e.email,n=e.college_name,r=e.designation,o=e.gender,{name:t,email:a,college:n,designation:r,gender:o});i((function(e){return[].concat(Object(ce.a)(e),[l])}))}))}),[a]),r.a.createElement(De.a,{component:H.a},r.a.createElement(_e.a,{className:t.table,"aria-label":"customized table"},r.a.createElement(ze.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Be,null,"Name"),r.a.createElement(Be,{align:"right"},"Email"),r.a.createElement(Be,{align:"right"},"College"),r.a.createElement(Be,{align:"right"},"Designation"),r.a.createElement(Be,{align:"right"},"Gender"))),r.a.createElement(Ie.a,null,l.map((function(e){return r.a.createElement(Pe,{key:e.name},r.a.createElement(Be,{component:"th",scope:"row"},e.name),r.a.createElement(Be,{align:"right"},e.email),r.a.createElement(Be,{align:"right"},e.college),r.a.createElement(Be,{align:"right"},e.designation),r.a.createElement(Be,{align:"right"},e.gender))})))))}var Re=Object(j.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}});function qe(e){var t=Re(),a=e.report;return r.a.createElement(q.a,{className:t.root},r.a.createElement(F.a,null,r.a.createElement(y.a,{variant:"h5",component:"h2"},a.title),r.a.createElement(y.a,{className:t.pos,color:"textSecondary"},a.description),r.a.createElement(y.a,{variant:"body2",component:"p"},"Event id: ",a.event_id),r.a.createElement(y.a,{variant:"body2",component:"p"},"User id: ",a.user_id)))}var Le=Object(j.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}});function Fe(e){var t=Le(),a=e.feedback;return r.a.createElement(q.a,{className:t.root},r.a.createElement(F.a,null,r.a.createElement(y.a,{variant:"h5",component:"h2"},a.description),r.a.createElement(y.a,{variant:"body2",component:"p"},"User id: ",a.user_id)))}var Ge=a(600),Je=a(609),Me=a(572),Ue=Object(j.a)((function(e){return{button:{margin:e.spacing(.5)}}}));var Ve=function(e){var t=Ue(),a=localStorage.getItem("token"),n=r.a.useState(null),o=Object(d.a)(n,2),l=o[0],i=o[1],c=r.a.useState(null),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState([]),g=Object(d.a)(p,2),E=g[0],v=g[1],b=r.a.useState([]),j=Object(d.a)(b,2),O=j[0],C=j[1],k=r.a.useState([]),S=Object(d.a)(k,2),w=S[0],x=S[1];r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/admin/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?v((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventRequirements"===e.type?C((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventTypes"===e.type&&x((function(t){return[].concat(Object(ce.a)(t),[e])}))}))}))}))}),[a]);var T=function(e){return function(){var t=new FormData,n={id:e._id};t=JSON.stringify(n),fetch("https://staging.ellipseapp.com/api/admin/delete_event_keywords",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?(v([]),x([]),C([]),e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?v((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventRequirements"===e.type?C((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventTypes"===e.type&&x((function(t){return[].concat(Object(ce.a)(t),[e])}))}))}))):401===e.status&&localStorage.removeItem("token")}))}};return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(f.a,{value:l||"",label:"Name",onChange:function(e){return i(e.target.value)},fullWidth:!0,name:"title",variant:"outlined",style:{marginBottom:"6px"}}),r.a.createElement(Me.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(Je.a,{htmlFor:"outlined-age-native-simple"},"Type"),r.a.createElement(Ge.a,{fullWidth:!0,native:!0,onChange:function(e){return u(e.target.value)},label:"Type",value:m||"",inputProps:{name:"type",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"EventTypes"},"Event Types"),r.a.createElement("option",{value:"EventTags"},"Event Tags"),r.a.createElement("option",{value:"EventRequirements"},"Requirements"))),r.a.createElement(h.a,{className:t.button,onClick:function(){var e=new FormData,t={title:l,type:m};e=JSON.stringify(t),fetch("https://staging.ellipseapp.com/api/admin/add_event_tags",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?(i(null),u(null),v([]),x([]),C([]),e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?v((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventRequirements"===e.type?C((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventTypes"===e.type&&x((function(t){return[].concat(Object(ce.a)(t),[e])}))}))}))):401===e.status&&localStorage.removeItem("token")}))},size:"large",variant:"contained"},"Add")),r.a.createElement(y.a,{style:{margin:"10px"}},"Event Types"),w.map((function(e,t){return r.a.createElement(ue.a,{color:"secondary",label:e.title,onDelete:T(e)})})),r.a.createElement(y.a,{style:{margin:"10px"}},"Event Tags"),E.map((function(e,t){return r.a.createElement(ue.a,{color:"secondary",label:e.title,onDelete:T(e)})})),r.a.createElement(y.a,{style:{margin:"10px"}},"Event Requirements"),O.map((function(e,t){return r.a.createElement(ue.a,{color:"secondary",label:e.title,onDelete:T(e)})})))},Ke=Object(j.a)((function(e){return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},content:{marginTop:e.spacing(3)},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140}}}));var Ye=function(e){var t=localStorage.getItem("token"),a=Ke(),n=r.a.useState(!1),o=Object(d.a)(n,2),l=o[0],i=o[1],s=r.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=r.a.useState([]),h=Object(d.a)(g,2),E=h[0],f=h[1],v=r.a.useState([]),b=Object(d.a)(v,2),j=b[0],O=b[1],C=r.a.useState([]),k=Object(d.a)(C,2),S=k[0],w=k[1],x=r.a.useState([]),T=Object(d.a)(x,2),_=T[0],I=T[1],N=r.a.useState([]),D=Object(d.a)(N,2),z=D[0],A=D[1],B=r.a.useState([]),q=Object(d.a)(B,2),L=q[0],F=q[1],G=r.a.useState(0),J=Object(d.a)(G,2),U=J[0],V=J[1];if(r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/admin/get_all_events",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,t){return new Date(e.posted_on)-new Date(t.posted_on)})),f(e),O(e.filter((function(e){return"pending"===e.status}))),w(e.filter((function(e){return"active"===e.status})))})):401===e.status&&localStorage.removeItem("token")})),fetch("https://staging.ellipseapp.com/api/admin/get_all_users",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){I(e)})):401===e.status&&localStorage.removeItem("token")})),fetch("https://staging.ellipseapp.com/api/admin/reports",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){A(e)})):401===e.status&&localStorage.removeItem("token")})),fetch("https://staging.ellipseapp.com/api/admin/feedback",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){F(e)})):401===e.status&&localStorage.removeItem("token")}))}),[t]),!t)return r.a.createElement(c.a,{to:"/"});var K=function(e){return function(){i(!0),p(e)}};return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(P.a,{container:!0,component:"main"},r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,lg:2}),r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(P.a,{container:!0,component:"maim",spacing:1},r.a.createElement(P.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(H.a,{className:a.fixedHeightPaper},r.a.createElement(y.a,null,"Total Events"),r.a.createElement(y.a,{component:"p",variant:"h4"},E.length))),r.a.createElement(P.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(H.a,{className:a.fixedHeightPaper},r.a.createElement(y.a,null,"Total Active Events"),r.a.createElement(y.a,{component:"p",variant:"h4"},S.length))),r.a.createElement(P.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(H.a,{className:a.fixedHeightPaper},r.a.createElement(y.a,null,"All Users"),r.a.createElement(y.a,{component:"p",variant:"h4"},_.length)))),r.a.createElement(H.a,{className:a.root2},r.a.createElement(W.a,{value:U,onChange:function(e,t){V(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(R.a,{label:"Pending Events"}),r.a.createElement(R.a,{label:"Active Events"}),r.a.createElement(R.a,{label:"All Events"}),r.a.createElement(R.a,{label:"Users"}),r.a.createElement(R.a,{label:"Reports"}),r.a.createElement(R.a,{label:"FeedBack"}),r.a.createElement(R.a,{label:"Add Keywods"}))),r.a.createElement("div",{className:a.content},0===U&&r.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},j.map((function(e,t){return r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(M,{event:e,handleViewClick:K(e),name:e.name}))}))),1===U&&r.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},S.map((function(e,t){return r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(M,{event:e,handleViewClick:K(e),name:e.name}))}))),2===U&&r.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},E.map((function(e,t){return r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(M,{event:e,handleViewClick:K(e),name:e.name}))}))),3===U&&r.a.createElement(We,{users:_}),4===U&&r.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},z.map((function(e,t){return r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(qe,{report:e}))}))),5===U&&r.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},L.map((function(e,t){return r.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(Fe,{feedback:e}))}))),6===U&&r.a.createElement(Ve,null)))),r.a.createElement("div",null,r.a.createElement(xe,{open:l,event:u,handleClose:function(){i(!1)},name:u.name,startTime:u.start_time,endTime:u.finish_time,regEndTime:u.registrationEndTime,type:u.eventType,tags:u.tags,mode:u.eventMode,feeType:u.feesType}))))},Qe=Object(j.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(_.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(_.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(z.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(z.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(_.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Xe(e){var t=e.history,a=Qe(),n=localStorage.getItem("token");return r.a.createElement("div",{className:a.root},r.a.createElement(I.a,{position:"sticky"},r.a.createElement(N.a,null,r.a.createElement(y.a,{className:a.title,variant:"h6",noWrap:!0},"Ellipse"),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(B.a,null)),r.a.createElement(D.a,{placeholder:"Search Events",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(h.a,{color:"secondary",onClick:function(){fetch("https://staging.ellipseapp.com/api/admin/logout",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(e){200===e.status?e.json().then((function(e){localStorage.removeItem("token"),t.replace("/")})):401===e.status&&localStorage.removeItem("token")}))}},"Logout"))),r.a.createElement(Ye,null))}var Ze=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:T}),r.a.createElement(c.b,{exact:!0,path:"/home",component:Xe}))))},$e=a(599),et=a(211),tt=Object(et.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}});Object(et.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($e.a,{theme:tt},r.a.createElement(E.a,null,r.a.createElement(Ze,null)))),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.8872a8e9.chunk.js.map