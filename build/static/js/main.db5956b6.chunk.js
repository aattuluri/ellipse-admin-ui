(this["webpackJsonpellipse-admin"]=this["webpackJsonpellipse-admin"]||[]).push([[0],{224:function(e,a,t){e.exports=t(508)},508:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),l=t.n(o),i=t(209),c=t(14),s=t(34),m=t.n(s),u=t(44),p=t(62),d=t(13),g=t(601),h=t(568),E=t(566),f=t(595),v=t(199),b=t.n(v),y=t(509),j=t(564),C=t(565),k=t(599),O=t(598),x=t(569);function S(e){return r.a.createElement(O.a,Object.assign({elevation:6,variant:"filled"},e))}var w=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(e){var a=e.history,t=w(),n=localStorage.getItem("token"),o=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(o,2),i=l[0],s=l[1],v=r.a.useState(!1),j=Object(d.a)(v,2),O=j[0],T=j[1],I=i.vertical,N=i.horizontal,_=i.open,z=i.message,D=i.type,A=i.autoHide;if(n)return r.a.createElement(c.a,{to:"/home"});var B=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(E.a,null),r.a.createElement(k.a,{anchorOrigin:{vertical:I,horizontal:N},open:_,autoHideDuration:A,onClose:B,key:I+N},r.a.createElement(S,{onClose:B,severity:D},z)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(b.a,{color:"primary"})),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),T(!0);var t=e.target.elements,n=t.username,r=t.password;try{var o=new FormData,l={username:n.value,password:r.value};o=JSON.stringify(l),fetch("https://ellipseapp.com/api/admin/signin",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:o}).then((function(e){200===e.status?e.json().then((function(e){localStorage.setItem("token",e.token),a.push("/home"),s({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:300})})):(T(!1),s({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(i){console.log(i),T(!1),s({open:!0,vertical:"top",horizontal:"center",message:i.message,type:"error",autoHide:3e3})}}},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"off",autoFocus:!0}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:O},O?r.a.createElement(x.a,{color:"primary",size:24}):"Sign In"))))}var I=t(52),N=t(592),_=t(593),z=t(602),D=t(9),A=t(208),B=t.n(A),H=t(576),P=t(213),W=t(596),L=t(585),G=t(570),R=t(573),q=t(572),F=t(571),M=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function J(e){var a=M(),t=e.event;return r.a.createElement(G.a,{className:a.root},r.a.createElement(F.a,{component:"img",height:"180",image:"https://ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),r.a.createElement(q.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),r.a.createElement(R.a,null,r.a.createElement(h.a,{onClick:function(){e.handleViewClick(e.event)},size:"small",color:"primary"},"view")))}var U=t(577),V=t(575),Y=t(574),K=t(600),Q=t(563),X=t(206),Z=t.n(X),$=t(39),ee=t(207),ae=t.n(ee),te=t(200),ne=t.n(te);function re(e){return r.a.createElement(O.a,Object.assign({elevation:6,variant:"filled"},e))}function oe(e){var a=Object($.a)(),t=r.a.useState(null),n=Object(d.a)(t,2),o=n[0],l=n[1],i=e.event,c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),g=s[0],E=s[1],v=g.vertical,b=g.horizontal,y=g.open,j=g.message,C=g.type,O=g.autoHide;r.a.useEffect((function(){l("https://ellipseapp.com/un/event/".concat(i._id))}),[i._id]);var x=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(a);case 3:E({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(k.a,{anchorOrigin:{vertical:v,horizontal:b},open:y,autoHideDuration:O,onClose:x,key:v+b},r.a.createElement(re,{onClose:x,severity:C},j)),r.a.createElement(K.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Y.a,{id:"form-dialog-title"},i.name),r.a.createElement(V.a,null,r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:11},r.a.createElement(f.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){l(e.target.value)}})),r.a.createElement(H.a,{item:!0,xs:1},r.a.createElement(Q.a,{onClick:function(){return S(o)}},r.a.createElement(ne.a,null))))),r.a.createElement(U.a,null,r.a.createElement(h.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}function le(e){return r.a.createElement(O.a,Object.assign({elevation:6,variant:"filled"},e))}function ie(e){var a=Object($.a)(),t=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),o=Object(d.a)(n,2),l=o[0],i=o[1],c=r.a.useState(!1),s=Object(d.a)(c,2),g=s[0],E=s[1],v=l.vertical,b=l.horizontal,y=l.open,j=l.message,C=l.type,O=l.autoHide,S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),w=r.a.useState(null),T=Object(d.a)(w,2),I=T[0],N=T[1],_=r.a.useState(null),z=Object(d.a)(_,2),D=z[0],A=z[1],B=e.event;return r.a.createElement("div",null,r.a.createElement(k.a,{anchorOrigin:{vertical:v,horizontal:b},open:y,autoHideDuration:O,onClose:S,key:v+b},r.a.createElement(le,{onClose:S,severity:C},j)),r.a.createElement(K.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Y.a,{id:"form-dialog-title"},"Send email to organizer(",B.name,")"),r.a.createElement(V.a,null,r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(f.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:I||"",required:!0,onChange:function(e){N(e.target.value)},autoComplete:"off"})),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(f.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:D||"",required:!0,onChange:function(e){A(e.target.value)},autoComplete:"off"})))),r.a.createElement(U.a,null,r.a.createElement(h.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(h.a,{onClick:function(){E(!0);try{var a=new FormData,n={userId:B.user_id,title:I,content:D};a=JSON.stringify(n),fetch("https://ellipseapp.com/api/admin/event/sendemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){"success"===a.message&&(E(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){E(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(x.a,{color:"primary",size:24}):"Send"))))}var ce=t(109),se=t(110),me=t(201),ue=t(603),pe=Object(j.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var de=function(e){var a=pe(),t=(e.children,e.value),n=(e.url,e.index),o=Object(se.a)(e,["children","value","url","index"]),l=e.event,i=l.tags,c=r.a.useState("Registration Ends in"),s=Object(d.a)(c,2),m=s[0],u=s[1],p=function(){var e=+new Date(l.registration_end_time)-+new Date,a={};return e<0&&(e=+new Date(l.start_time)-+new Date),e<0&&(e=+new Date(l.finish_time)-+new Date),e>0&&(a={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),a},g=r.a.useState(p()),h=Object(d.a)(g,2),E=h[0],f=h[1];r.a.useEffect((function(){var e=setTimeout((function(){u(function(){var e=+new Date(l.registration_end_time)-+new Date,a="Registration ends in";return e<0&&(a="Starts in",e=+new Date(l.start_time)-+new Date),e<0&&(a="Ends in",e=+new Date(l.finish_time)-+new Date),a}()),f(p())}),1e3);return function(){Object(me.a)(),clearTimeout(e)}}));var v=[];return Object.keys(E).forEach((function(e){E[e]&&v.push(r.a.createElement("span",{key:e},E[e]," ",e," "))})),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},o),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(H.a,{container:!0,component:"main"},r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement("img",{style:{maxWidth:"250px"},alt:"event poster",src:"https://ellipseapp.com"+"/api/image?id=".concat(l.poster_url)})),r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(y.a,null,l.description," This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."),r.a.createElement(y.a,{style:{marginTop:"20px",marginBottom:"20"}},m),r.a.createElement(y.a,{variant:"h5"},v.length?v:r.a.createElement("span",null,"Time's up!")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(ue.a,{variant:"outlined",color:"inherit",label:l.event_type}),r.a.createElement(ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:l.fee_type}),r.a.createElement(ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:l.event_mode}),null!=i&&i.map((function(e){return r.a.createElement(ue.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})})))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About"),r.a.createElement(y.a,{color:"textSecondary",variant:"body2"},Object(ce.a)(new Array(5)).map((function(){return"Cras mattis consectetur purus sit amet fermentum. \n                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.\n                                    Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                    Praesent commodo cursus magna, vel scelerisque nisl consectetur et."})).join("\n"))),r.a.createElement(H.a,{item:!0,xs:12}),r.a.createElement(H.a,null))))},ge=t(578),he=t(579),Ee=t(581),fe=t(583),ve=t(584),be=t(580),ye=t(582),je=t(112),Ce=t.n(je),ke=Object(j.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var Oe=function(e){var a=ke(),t=(e.children,e.value),n=(e.url,e.index),o=Object(se.a)(e,["children","value","url","index"]),l=e.event,i=new Date(l.start_time),c=new Date(l.finish_time),s=new Date(l.registration_end_time);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},o),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(ge.a,{align:"alternate"},r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(Ce.a,null)),r.a.createElement(fe.a,null)),r.a.createElement(ve.a,null,r.a.createElement(P.a,{elevation:3,className:a.paper},r.a.createElement(y.a,{variant:"h6",component:"h1"},"Registration Ends"),r.a.createElement(y.a,null,"Your oppurtunity to participate came to an end")))),r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{color:"primary",variant:"outlined"},r.a.createElement(Ce.a,null)),r.a.createElement(fe.a,null)),r.a.createElement(ve.a,null,r.a.createElement(P.a,{elevation:3,className:a.paper},r.a.createElement(y.a,{variant:"h6",component:"h1"},"Starts"),r.a.createElement(y.a,null,"Party begins")))),r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(Ce.a,null)),r.a.createElement(fe.a,{className:a.secondaryTail})),r.a.createElement(ve.a,null,r.a.createElement(P.a,{elevation:3,className:a.paper},r.a.createElement(y.a,{variant:"h6",component:"h1"},"Ends"),r.a.createElement(y.a,null,"Chill,event came to an end")))))))};function xe(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Se=Object(j.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(I.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)})}}));var we=function(e){var a=e.event,t=r.a.useState(0),n=Object(d.a)(t,2),o=n[0],l=n[1],i=Se(),c=Object($.a)(),s=localStorage.getItem("token"),m=r.a.useState(!1),u=Object(d.a)(m,2),p=u[0],g=u[1],E=r.a.useState(!1),f=Object(d.a)(E,2),v=f[0],b=f[1];function y(){e.handleClose()}function j(){var e=new FormData,t={eventId:a._id,status:"active"};e=JSON.stringify(t),fetch("https://ellipseapp.com/api/admin/update_event_status",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):401===e.status&&localStorage.removeItem("token")}))}return r.a.createElement(K.a,{open:e.open,onClose:y,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:c.palette.secondary.main,boxShadow:"none"}},classes:{paper:i.dialog}},r.a.createElement(Y.a,{id:"scroll-dialog-title"},a.name,r.a.createElement("div",{className:i.icons},r.a.createElement(Q.a,{"aria-label":"share",onClick:function(){g(!0)}},r.a.createElement(Z.a,null)),r.a.createElement(Q.a,{"aria-label":"close",className:i.closeButton,onClick:y},r.a.createElement(ae.a,{fontSize:"large"}))),r.a.createElement("div",{className:i.root},r.a.createElement(P.a,{className:i.root2},r.a.createElement(W.a,{value:o,onChange:function(e,a){l(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(L.a,Object.assign({label:"About"},xe(0))),r.a.createElement(L.a,Object.assign({label:"Schedule"},xe(1))))))),r.a.createElement(V.a,{className:i.dialogContent,dividers:!0},r.a.createElement(oe,{event:a,open:p,handleClose:function(){g(!1)}}),r.a.createElement(de,{value:o,index:0,event:e.event}),r.a.createElement(Oe,{value:o,index:1,event:e.event})),r.a.createElement(U.a,null,"pending"===a.status&&r.a.createElement(h.a,{variant:"contained",onClick:j},"Accept"),"pending"!==a.status&&r.a.createElement(h.a,{variant:"contained",disabled:!0,onClick:j},"Accepted"),r.a.createElement(h.a,{variant:"contained",onClick:function(){b(!0)},style:{marginLeft:"5px"}},"Send Email")),r.a.createElement(ie,{event:a,handleClose:function(){b(!1)},open:v}))},Te=t(5),Ie=t(589),Ne=t(591),_e=t(586),ze=t(588),De=t(590),Ae=t(587),Be=Object(Te.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(_e.a),He=Object(Te.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ae.a),Pe=Object(j.a)({table:{minWidth:700}});function We(e){var a=Pe(),t=e.users,n=r.a.useState([]),o=Object(d.a)(n,2),l=o[0],i=o[1];return r.a.useEffect((function(){t.forEach((function(e){var a,t,n,r,o,l=(a=e.name,t=e.email,n=e.college_name,r=e.designation,o=e.gender,{name:a,email:t,college:n,designation:r,gender:o});i((function(e){return[].concat(Object(ce.a)(e),[l])}))}))}),[t]),r.a.createElement(ze.a,{component:P.a},r.a.createElement(Ie.a,{className:a.table,"aria-label":"customized table"},r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Be,null,"Name"),r.a.createElement(Be,{align:"right"},"Email"),r.a.createElement(Be,{align:"right"},"College"),r.a.createElement(Be,{align:"right"},"Designation"),r.a.createElement(Be,{align:"right"},"Gender"))),r.a.createElement(Ne.a,null,l.map((function(e){return r.a.createElement(He,{key:e.name},r.a.createElement(Be,{component:"th",scope:"row"},e.name),r.a.createElement(Be,{align:"right"},e.email),r.a.createElement(Be,{align:"right"},e.college),r.a.createElement(Be,{align:"right"},e.designation),r.a.createElement(Be,{align:"right"},e.gender))})))))}var Le=Object(j.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}});function Ge(e){var a=Le(),t=e.report;return r.a.createElement(G.a,{className:a.root},r.a.createElement(q.a,null,r.a.createElement(y.a,{variant:"h5",component:"h2"},t.title),r.a.createElement(y.a,{className:a.pos,color:"textSecondary"},t.description),r.a.createElement(y.a,{variant:"body2",component:"p"},"Event id: ",t.event_id),r.a.createElement(y.a,{variant:"body2",component:"p"},"User id: ",t.user_id)))}var Re=Object(j.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}});function qe(e){var a=Re(),t=e.feedback;return r.a.createElement(G.a,{className:a.root},r.a.createElement(q.a,null,r.a.createElement(y.a,{variant:"h5",component:"h2"},t.description),r.a.createElement(y.a,{variant:"body2",component:"p"},"User id: ",t.user_id)))}var Fe=Object(j.a)((function(e){return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},content:{marginTop:e.spacing(3)},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140}}}));var Me=function(e){var a=localStorage.getItem("token"),t=Fe(),n=r.a.useState(!1),o=Object(d.a)(n,2),l=o[0],i=o[1],s=r.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=r.a.useState([]),h=Object(d.a)(g,2),E=h[0],f=h[1],v=r.a.useState([]),b=Object(d.a)(v,2),j=b[0],C=b[1],k=r.a.useState([]),O=Object(d.a)(k,2),x=O[0],S=O[1],w=r.a.useState([]),T=Object(d.a)(w,2),I=T[0],N=T[1],_=r.a.useState([]),z=Object(d.a)(_,2),D=z[0],A=z[1],B=r.a.useState([]),G=Object(d.a)(B,2),R=G[0],q=G[1],F=r.a.useState(0),M=Object(d.a)(F,2),U=M[0],V=M[1];if(r.a.useEffect((function(){fetch("https://ellipseapp.com/api/admin/get_all_events",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,a){return new Date(e.posted_on)-new Date(a.posted_on)})),f(e),C(e.filter((function(e){return"pending"===e.status}))),S(e.filter((function(e){return"active"===e.status})))})):401===e.status&&localStorage.removeItem("token")})),fetch("https://ellipseapp.com/api/admin/get_all_users",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){N(e)})):401===e.status&&localStorage.removeItem("token")})),fetch("https://ellipseapp.com/api/admin/reports",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){A(e)})):401===e.status&&localStorage.removeItem("token")})),fetch("https://ellipseapp.com/api/admin/feedback",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){q(e)})):401===e.status&&localStorage.removeItem("token")}))}),[a]),!a)return r.a.createElement(c.a,{to:"/"});var Y=function(e){return function(){i(!0),p(e)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(H.a,{container:!0,component:"main"},r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,lg:2}),r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(H.a,{container:!0,component:"maim",spacing:1},r.a.createElement(H.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(P.a,{className:t.fixedHeightPaper},r.a.createElement(y.a,null,"Total Events"),r.a.createElement(y.a,{component:"p",variant:"h4"},E.length))),r.a.createElement(H.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(P.a,{className:t.fixedHeightPaper},r.a.createElement(y.a,null,"Total Active Events"),r.a.createElement(y.a,{component:"p",variant:"h4"},x.length))),r.a.createElement(H.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(P.a,{className:t.fixedHeightPaper},r.a.createElement(y.a,null,"All Users"),r.a.createElement(y.a,{component:"p",variant:"h4"},I.length)))),r.a.createElement(P.a,{className:t.root2},r.a.createElement(W.a,{value:U,onChange:function(e,a){V(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(L.a,{label:"Pending Events"}),r.a.createElement(L.a,{label:"Active Events"}),r.a.createElement(L.a,{label:"All Events"}),r.a.createElement(L.a,{label:"Users"}),r.a.createElement(L.a,{label:"Reports"}),r.a.createElement(L.a,{label:"FeedBack"}))),r.a.createElement("div",{className:t.content},0===U&&r.a.createElement(H.a,{container:!0,component:"main",alignItems:"center",spacing:1},j.map((function(e,a){return r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(J,{event:e,handleViewClick:Y(e),name:e.name}))}))),1===U&&r.a.createElement(H.a,{container:!0,component:"main",alignItems:"center",spacing:1},x.map((function(e,a){return r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(J,{event:e,handleViewClick:Y(e),name:e.name}))}))),2===U&&r.a.createElement(H.a,{container:!0,component:"main",alignItems:"center",spacing:1},E.map((function(e,a){return r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(J,{event:e,handleViewClick:Y(e),name:e.name}))}))),3===U&&r.a.createElement(We,{users:I}),4===U&&r.a.createElement(H.a,{container:!0,component:"main",alignItems:"center",spacing:1},D.map((function(e,a){return r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(Ge,{report:e}))}))),5===U&&r.a.createElement(H.a,{container:!0,component:"main",alignItems:"center",spacing:1},R.map((function(e,a){return r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(qe,{feedback:e}))})))))),r.a.createElement("div",null,r.a.createElement(we,{open:l,event:u,handleClose:function(){i(!1)},name:u.name,startTime:u.start_time,endTime:u.finish_time,regEndTime:u.registrationEndTime,type:u.eventType,tags:u.tags,mode:u.eventMode,feeType:u.feesType}))))},Je=Object(j.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(I.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(I.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(D.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(D.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(I.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Ue(e){var a=e.history,t=Je(),n=localStorage.getItem("token");return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{position:"sticky"},r.a.createElement(_.a,null,r.a.createElement(y.a,{className:t.title,variant:"h6",noWrap:!0},"Ellipse"),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(B.a,null)),r.a.createElement(z.a,{placeholder:"Search Events",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(h.a,{color:"secondary",onClick:function(){fetch("https://ellipseapp.com/api/admin/logout",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(e){200===e.status?e.json().then((function(e){localStorage.removeItem("token"),a.replace("/")})):401===e.status&&localStorage.removeItem("token")}))}},"Logout"))),r.a.createElement(Me,null))}var Ve=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:T}),r.a.createElement(c.b,{exact:!0,path:"/home",component:Ue}))))},Ye=t(594),Ke=t(210),Qe=Object(Ke.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}});Object(Ke.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ye.a,{theme:Qe},r.a.createElement(E.a,null,r.a.createElement(Ve,null)))),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.db5956b6.chunk.js.map