(this["webpackJsonpellipse-admin"]=this["webpackJsonpellipse-admin"]||[]).push([[0],{230:function(e,t,a){e.exports=a(514)},514:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),l=a.n(r),i=a(214),c=a(14),s=a(35),m=a.n(s),u=a(46),p=a(65),d=a(8),g=a(606),h=a(573),f=a(568),E=a(607),v=a(204),b=a.n(v),y=a(515),j=a(566),C=a(567),O=a(604),S=a(603),k=a(574);function x(e){return o.a.createElement(S.a,Object.assign({elevation:6,variant:"filled"},e))}var w=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(e){var t=e.history,a=w(),n=localStorage.getItem("token"),r=o.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(r,2),i=l[0],s=l[1],v=o.a.useState(!1),j=Object(d.a)(v,2),S=j[0],T=j[1],_=i.vertical,N=i.horizontal,I=i.open,D=i.message,z=i.type,A=i.autoHide;if(n)return o.a.createElement(c.a,{to:"/home"});var B=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(C.a,{component:"main",maxWidth:"xs"},o.a.createElement(f.a,null),o.a.createElement(O.a,{anchorOrigin:{vertical:_,horizontal:N},open:I,autoHideDuration:A,onClose:B,key:_+N},o.a.createElement(x,{onClose:B,severity:z},D)),o.a.createElement("div",{className:a.paper},o.a.createElement(g.a,{className:a.avatar},o.a.createElement(b.a,{color:"primary"})),o.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),T(!0);var a=e.target.elements,n=a.username,o=a.password;try{var r=new FormData,l={username:n.value,password:o.value};r=JSON.stringify(l),fetch("https://ellipseapp.com/api/admin/signin",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status?e.json().then((function(e){localStorage.setItem("token",e.token),t.push("/home"),s({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:300})})):(T(!1),s({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(i){console.log(i),T(!1),s({open:!0,vertical:"top",horizontal:"center",message:i.message,type:"error",autoHide:3e3})}}},o.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"off",autoFocus:!0}),o.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),o.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:S},S?o.a.createElement(k.a,{color:"primary",size:24}):"Sign In"))))}var _=a(54),N=a(597),I=a(598),D=a(219),z=a(10),A=a(213),B=a.n(A),P=a(581),W=a(218),H=a(601),q=a(590),R=a(575),F=a(578),L=a(577),U=a(576),G=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function J(e){var t=G(),a=e.event;return o.a.createElement(R.a,{className:t.root},o.a.createElement(U.a,{component:"img",height:"180",image:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}),o.a.createElement(L.a,null,o.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),o.a.createElement(F.a,null,o.a.createElement(h.a,{onClick:function(){e.handleViewClick(e.event)},size:"small",color:"primary"},"view")))}var M=a(582),V=a(580),K=a(579),Y=a(605),Q=a(565),X=a(211),Z=a.n(X),$=a(40),ee=a(212),te=a.n(ee),ae=a(205),ne=a.n(ae);function oe(e){return o.a.createElement(S.a,Object.assign({elevation:6,variant:"filled"},e))}function re(e){var t=Object($.a)(),a=o.a.useState(null),n=Object(d.a)(a,2),r=n[0],l=n[1],i=e.event,c=o.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),g=s[0],f=s[1],v=g.vertical,b=g.horizontal,y=g.open,j=g.message,C=g.type,S=g.autoHide;o.a.useEffect((function(){l("https://ellipseapp.com/un/event/".concat(i._id))}),[i._id]);var k=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:f({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(O.a,{anchorOrigin:{vertical:v,horizontal:b},open:y,autoHideDuration:S,onClose:k,key:v+b},o.a.createElement(oe,{onClose:k,severity:C},j)),o.a.createElement(Y.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(K.a,{id:"form-dialog-title"},i.name),o.a.createElement(V.a,null,o.a.createElement(P.a,{container:!0,spacing:2},o.a.createElement(P.a,{item:!0,xs:11},o.a.createElement(E.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:r,required:!0,onChange:function(e){l(e.target.value)}})),o.a.createElement(P.a,{item:!0,xs:1},o.a.createElement(Q.a,{onClick:function(){return x(r)}},o.a.createElement(ne.a,null))))),o.a.createElement(M.a,null,o.a.createElement(h.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}function le(e){return o.a.createElement(S.a,Object.assign({elevation:6,variant:"filled"},e))}function ie(e){var t=Object($.a)(),a=localStorage.getItem("token"),n=o.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),r=Object(d.a)(n,2),l=r[0],i=r[1],c=o.a.useState(!1),s=Object(d.a)(c,2),g=s[0],f=s[1],v=l.vertical,b=l.horizontal,y=l.open,j=l.message,C=l.type,S=l.autoHide,x=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=o.a.useState(null),T=Object(d.a)(w,2),_=T[0],N=T[1],I=o.a.useState(null),D=Object(d.a)(I,2),z=D[0],A=D[1],B=e.event;return o.a.createElement("div",null,o.a.createElement(O.a,{anchorOrigin:{vertical:v,horizontal:b},open:y,autoHideDuration:S,onClose:x,key:v+b},o.a.createElement(le,{onClose:x,severity:C},j)),o.a.createElement(Y.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(K.a,{id:"form-dialog-title"},"Send email to organizer(",B.name,")"),o.a.createElement(V.a,null,o.a.createElement(P.a,{container:!0,spacing:2},o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:_||"",required:!0,onChange:function(e){N(e.target.value)},autoComplete:"off"})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:z||"",required:!0,onChange:function(e){A(e.target.value)},autoComplete:"off"})))),o.a.createElement(M.a,null,o.a.createElement(h.a,{onClick:e.handleClose,color:"primary"},"Cancel"),o.a.createElement(h.a,{onClick:function(){f(!0);try{var t=new FormData,n={userId:B.user_id,title:_,content:z};t=JSON.stringify(n),fetch("https://ellipseapp.com/api/admin/event/sendemail",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){"success"===t.message&&(f(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(o){f(!1),i({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error",autoHide:3e3})}},color:"primary"},g?o.a.createElement(k.a,{color:"primary",size:24}):"Send"))))}var ce=a(23),se=a(112),me=a(206),ue=a(610),pe=Object(j.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var de=function(e){var t=pe(),a=(e.children,e.value),n=(e.url,e.index),r=Object(se.a)(e,["children","value","url","index"]),l=e.event,i=l.tags,c=o.a.useState("Registration Ends in"),s=Object(d.a)(c,2),m=s[0],u=s[1],p=function(){var e=+new Date(l.registration_end_time)-+new Date,t={};return e<0&&(e=+new Date(l.start_time)-+new Date),e<0&&(e=+new Date(l.finish_time)-+new Date),e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},g=o.a.useState(p()),h=Object(d.a)(g,2),f=h[0],E=h[1];o.a.useEffect((function(){var e=setTimeout((function(){u(function(){var e=+new Date(l.registration_end_time)-+new Date,t="Registration ends in";return e<0&&(t="Starts in",e=+new Date(l.start_time)-+new Date),e<0&&(t="Ends in",e=+new Date(l.finish_time)-+new Date),t}()),E(p())}),1e3);return function(){Object(me.a)(),clearTimeout(e)}}));var v=[];return Object.keys(f).forEach((function(e){f[e]&&v.push(o.a.createElement("span",{key:e},f[e]," ",e," "))})),o.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},r),a===n&&o.a.createElement("div",{className:t.root},o.a.createElement(P.a,{container:!0,component:"main"},o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,lg:4},o.a.createElement("img",{style:{maxWidth:"250px"},alt:"event poster",src:"https://ellipseapp.com"+"/api/image?id=".concat(l.poster_url)})),o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:8,lg:8},o.a.createElement(y.a,null,l.description," This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."),o.a.createElement(y.a,{style:{marginTop:"20px",marginBottom:"20"}},m),o.a.createElement(y.a,{variant:"h5"},v.length?v:o.a.createElement("span",null,"Time's up!")),o.a.createElement("div",{style:{marginTop:"10px"}},o.a.createElement(ue.a,{variant:"outlined",color:"inherit",label:l.event_type}),o.a.createElement(ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:l.fee_type}),o.a.createElement(ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:l.event_mode}),null!=i&&i.map((function(e){return o.a.createElement(ue.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})})))),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(y.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About"),o.a.createElement(y.a,{color:"textSecondary",variant:"body2"},Object(ce.a)(new Array(5)).map((function(){return"Cras mattis consectetur purus sit amet fermentum. \n                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.\n                                    Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                    Praesent commodo cursus magna, vel scelerisque nisl consectetur et."})).join("\n"))),o.a.createElement(P.a,{item:!0,xs:12}),o.a.createElement(P.a,null))))},ge=a(583),he=a(584),fe=a(586),Ee=a(588),ve=a(589),be=a(585),ye=a(587),je=a(114),Ce=a.n(je),Oe=Object(j.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var Se=function(e){var t=Oe(),a=(e.children,e.value),n=(e.url,e.index),r=Object(se.a)(e,["children","value","url","index"]),l=e.event,i=new Date(l.start_time),c=new Date(l.finish_time),s=new Date(l.registration_end_time);return o.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},r),a===n&&o.a.createElement("div",{className:t.root},o.a.createElement(ge.a,{align:"alternate"},o.a.createElement(he.a,null,o.a.createElement(be.a,null,o.a.createElement(y.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),o.a.createElement(fe.a,null,o.a.createElement(ye.a,{color:"primary"},o.a.createElement(Ce.a,null)),o.a.createElement(Ee.a,null)),o.a.createElement(ve.a,null,o.a.createElement(W.a,{elevation:3,className:t.paper},o.a.createElement(y.a,{variant:"h6",component:"h1"},"Registration Ends"),o.a.createElement(y.a,null,"Your oppurtunity to participate came to an end")))),o.a.createElement(he.a,null,o.a.createElement(be.a,null,o.a.createElement(y.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),o.a.createElement(fe.a,null,o.a.createElement(ye.a,{color:"primary",variant:"outlined"},o.a.createElement(Ce.a,null)),o.a.createElement(Ee.a,null)),o.a.createElement(ve.a,null,o.a.createElement(W.a,{elevation:3,className:t.paper},o.a.createElement(y.a,{variant:"h6",component:"h1"},"Starts"),o.a.createElement(y.a,null,"Party begins")))),o.a.createElement(he.a,null,o.a.createElement(be.a,null,o.a.createElement(y.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),o.a.createElement(fe.a,null,o.a.createElement(ye.a,{color:"primary"},o.a.createElement(Ce.a,null)),o.a.createElement(Ee.a,{className:t.secondaryTail})),o.a.createElement(ve.a,null,o.a.createElement(W.a,{elevation:3,className:t.paper},o.a.createElement(y.a,{variant:"h6",component:"h1"},"Ends"),o.a.createElement(y.a,null,"Chill,event came to an end")))))))};function ke(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var xe=Object(j.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(_.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)})}}));var we=function(e){var t=e.event,a=o.a.useState(0),n=Object(d.a)(a,2),r=n[0],l=n[1],i=xe(),c=Object($.a)(),s=localStorage.getItem("token"),m=o.a.useState(!1),u=Object(d.a)(m,2),p=u[0],g=u[1],f=o.a.useState(!1),E=Object(d.a)(f,2),v=E[0],b=E[1];function y(){e.handleClose()}return o.a.createElement(Y.a,{open:e.open,onClose:y,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:c.palette.secondary.main,boxShadow:"none"}},classes:{paper:i.dialog}},o.a.createElement(K.a,{id:"scroll-dialog-title"},t.name,o.a.createElement("div",{className:i.icons},o.a.createElement(Q.a,{"aria-label":"share",onClick:function(){g(!0)}},o.a.createElement(Z.a,null)),o.a.createElement(Q.a,{"aria-label":"close",className:i.closeButton,onClick:y},o.a.createElement(te.a,{fontSize:"large"}))),o.a.createElement("div",{className:i.root},o.a.createElement(W.a,{className:i.root2},o.a.createElement(H.a,{value:r,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},o.a.createElement(q.a,Object.assign({label:"About"},ke(0))),o.a.createElement(q.a,Object.assign({label:"Schedule"},ke(1))))))),o.a.createElement(V.a,{className:i.dialogContent,dividers:!0},o.a.createElement(re,{event:t,open:p,handleClose:function(){g(!1)}}),o.a.createElement(de,{value:r,index:0,event:e.event}),o.a.createElement(Se,{value:r,index:1,event:e.event})),o.a.createElement(M.a,null,"pending"===t.status&&o.a.createElement(h.a,{variant:"contained",onClick:function(){var e=new FormData,a={eventId:t._id,status:"active"};e=JSON.stringify(a),fetch("https://ellipseapp.com/api/admin/update_event_status",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),window.location.reload(!1)})):401===e.status&&localStorage.removeItem("token")}))}},"Accept"),"pending"!==t.status&&o.a.createElement(h.a,{variant:"contained",onClick:function(){var e=new FormData,a={eventId:t._id,status:"pending"};e=JSON.stringify(a),fetch("https://ellipseapp.com/api/admin/update_event_status",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),window.location.reload(!1)})):401===e.status&&localStorage.removeItem("token")}))}},"Make Inactive"),o.a.createElement(h.a,{variant:"contained",onClick:function(){b(!0)},style:{marginLeft:"5px"}},"Send Email")),o.a.createElement(ie,{event:t,handleClose:function(){b(!1)},open:v}))},Te=a(5),_e=a(594),Ne=a(596),Ie=a(591),De=a(593),ze=a(595),Ae=a(592),Be=Object(Te.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Ie.a),Pe=Object(Te.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ae.a),We=Object(j.a)({table:{minWidth:700}});function He(e){var t=We(),a=e.users,n=o.a.useState([]),r=Object(d.a)(n,2),l=r[0],i=r[1];return o.a.useEffect((function(){a.forEach((function(e){var t,a,n,o,r,l=(t=e.name,a=e.email,n=e.college_name,o=e.designation,r=e.gender,{name:t,email:a,college:n,designation:o,gender:r});i((function(e){return[].concat(Object(ce.a)(e),[l])}))}))}),[a]),o.a.createElement(De.a,{component:W.a},o.a.createElement(_e.a,{className:t.table,"aria-label":"customized table"},o.a.createElement(ze.a,null,o.a.createElement(Ae.a,null,o.a.createElement(Be,null,"Name"),o.a.createElement(Be,{align:"right"},"Email"),o.a.createElement(Be,{align:"right"},"College"),o.a.createElement(Be,{align:"right"},"Designation"),o.a.createElement(Be,{align:"right"},"Gender"))),o.a.createElement(Ne.a,null,l.map((function(e){return o.a.createElement(Pe,{key:e.name},o.a.createElement(Be,{component:"th",scope:"row"},e.name),o.a.createElement(Be,{align:"right"},e.email),o.a.createElement(Be,{align:"right"},e.college),o.a.createElement(Be,{align:"right"},e.designation),o.a.createElement(Be,{align:"right"},e.gender))})))))}var qe=Object(j.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}});function Re(e){var t=qe(),a=e.report;return o.a.createElement(R.a,{className:t.root},o.a.createElement(L.a,null,o.a.createElement(y.a,{variant:"h5",component:"h2"},a.title),o.a.createElement(y.a,{className:t.pos,color:"textSecondary"},a.description),o.a.createElement(y.a,{variant:"body2",component:"p"},"Event id: ",a.event_id),o.a.createElement(y.a,{variant:"body2",component:"p"},"User id: ",a.user_id)))}var Fe=Object(j.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}});function Le(e){var t=Fe(),a=e.feedback;return o.a.createElement(R.a,{className:t.root},o.a.createElement(L.a,null,o.a.createElement(y.a,{variant:"h5",component:"h2"},a.description),o.a.createElement(y.a,{variant:"body2",component:"p"},"User id: ",a.user_id)))}var Ue=a(600),Ge=a(609),Je=a(572),Me=Object(j.a)((function(e){return{button:{margin:e.spacing(.5)}}}));var Ve=function(e){var t=Me(),a=localStorage.getItem("token"),n=o.a.useState(null),r=Object(d.a)(n,2),l=r[0],i=r[1],c=o.a.useState(null),s=Object(d.a)(c,2),m=s[0],u=s[1],p=o.a.useState([]),g=Object(d.a)(p,2),f=g[0],v=g[1],b=o.a.useState([]),j=Object(d.a)(b,2),C=j[0],O=j[1],S=o.a.useState([]),k=Object(d.a)(S,2),x=k[0],w=k[1];o.a.useEffect((function(){fetch("https://ellipseapp.com/api/admin/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?v((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventRequirements"===e.type?O((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventTypes"===e.type&&w((function(t){return[].concat(Object(ce.a)(t),[e])}))}))}))}))}),[a]);var T=function(e){return function(){var t=new FormData,n={id:e._id};t=JSON.stringify(n),fetch("https://ellipseapp.com/api/admin/delete_event_keywords",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?(v([]),w([]),O([]),e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?v((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventRequirements"===e.type?O((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventTypes"===e.type&&w((function(t){return[].concat(Object(ce.a)(t),[e])}))}))}))):401===e.status&&localStorage.removeItem("token")}))}};return o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement(E.a,{value:l||"",label:"Name",onChange:function(e){return i(e.target.value)},fullWidth:!0,name:"title",variant:"outlined",style:{marginBottom:"6px"}}),o.a.createElement(Je.a,{variant:"outlined",fullWidth:!0,required:!0},o.a.createElement(Ge.a,{htmlFor:"outlined-age-native-simple"},"Type"),o.a.createElement(Ue.a,{fullWidth:!0,native:!0,onChange:function(e){return u(e.target.value)},label:"Type",value:m||"",inputProps:{name:"type",id:"outlined-age-native-simple"}},o.a.createElement("option",{"aria-label":"None",value:""}),o.a.createElement("option",{value:"EventTypes"},"Event Types"),o.a.createElement("option",{value:"EventTags"},"Event Tags"),o.a.createElement("option",{value:"EventRequirements"},"Requirements"))),o.a.createElement(h.a,{className:t.button,onClick:function(){var e=new FormData,t={title:l,type:m};e=JSON.stringify(t),fetch("https://ellipseapp.com/api/admin/add_event_tags",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?(i(null),u(null),v([]),w([]),O([]),e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?v((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventRequirements"===e.type?O((function(t){return[].concat(Object(ce.a)(t),[e])})):"EventTypes"===e.type&&w((function(t){return[].concat(Object(ce.a)(t),[e])}))}))}))):401===e.status&&localStorage.removeItem("token")}))},size:"large",variant:"contained"},"Add")),o.a.createElement(y.a,{style:{margin:"10px"}},"Event Types"),x.map((function(e,t){return o.a.createElement(ue.a,{color:"secondary",label:e.title,onDelete:T(e)})})),o.a.createElement(y.a,{style:{margin:"10px"}},"Event Tags"),f.map((function(e,t){return o.a.createElement(ue.a,{color:"secondary",label:e.title,onDelete:T(e)})})),o.a.createElement(y.a,{style:{margin:"10px"}},"Event Requirements"),C.map((function(e,t){return o.a.createElement(ue.a,{color:"secondary",label:e.title,onDelete:T(e)})})))},Ke=Object(j.a)((function(e){return{button:{margin:e.spacing(.5)}}}));var Ye=function(e){var t=Ke(),a=localStorage.getItem("token"),n=o.a.useState(null),r=Object(d.a)(n,2),l=r[0],i=r[1],c=o.a.useState(null),s=Object(d.a)(c,2),m=s[0],u=s[1],p=o.a.useState(null),g=Object(d.a)(p,2),f=g[0],v=g[1],b=o.a.useState(null),j=Object(d.a)(b,2),C=j[0],O=j[1],S=o.a.useState(null),k=Object(d.a)(S,2),x=k[0],w=k[1],T=o.a.useState([]),_=Object(d.a)(T,2),N=_[0],I=_[1];return o.a.useEffect((function(){fetch("https://ellipseapp.com/api/admin/get_all_colleges",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){I(e)}))}))}),[a]),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement(E.a,{autoComplete:"off",required:!0,value:l||"",label:"College Name",onChange:function(e){return i(e.target.value)},fullWidth:!0,name:"College Name",variant:"outlined",style:{marginBottom:"6px"}}),o.a.createElement(E.a,{autoComplete:"off",value:m||"",label:"City",onChange:function(e){return u(e.target.value)},fullWidth:!0,name:"City",variant:"outlined",style:{marginBottom:"6px"}}),o.a.createElement(E.a,{autoComplete:"off",value:C||"",label:"State",onChange:function(e){return O(e.target.value)},fullWidth:!0,name:"College Name",variant:"outlined",style:{marginBottom:"6px"}}),o.a.createElement(E.a,{autoComplete:"off",value:f||"",label:"Pincode",onChange:function(e){return v(e.target.value)},fullWidth:!0,name:"College Name",variant:"outlined",style:{marginBottom:"6px"}}),o.a.createElement(Je.a,{variant:"outlined",fullWidth:!0,required:!0},o.a.createElement(Ge.a,{htmlFor:"outlined-age-native-simple"},"Type"),o.a.createElement(Ue.a,{fullWidth:!0,native:!0,onChange:function(e){return w(e.target.value)},label:"Type",value:x||"",inputProps:{name:"type",id:"type"}},o.a.createElement("option",{"aria-label":"None",value:""}),o.a.createElement("option",{value:"State University"},"State University"),o.a.createElement("option",{value:"Deemed to be University"},"Deemed to be University"),o.a.createElement("option",{value:"Central University"},"Central University"),o.a.createElement("option",{value:"Private University"},"Private University"))),o.a.createElement(h.a,{className:t.button,onClick:function(){var e=new FormData,t={name:l,college_type:x,city:m,state:C,pin_code:f};e=JSON.stringify(t),fetch("https://ellipseapp.com/api/admin/add_college",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?(w(null),e.json().then((function(e){I(e)}))):401===e.status&&localStorage.removeItem("token")}))},size:"large",variant:"contained"},"Add")),o.a.createElement(y.a,{style:{margin:"10px"}},"All Colleges"),N.map((function(e,t){return o.a.createElement(ue.a,{color:"secondary",label:e.name,onDelete:(n=e,function(){var e=new FormData,t={id:n._id};e=JSON.stringify(t),fetch("https://ellipseapp.com/api/admin/delete_college",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status?e.json().then((function(e){I(e)})):401===e.status&&localStorage.removeItem("token")}))})});var n})))},Qe=Object(j.a)((function(e){return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},content:{marginTop:e.spacing(3)},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140}}}));var Xe=function(e){var t=localStorage.getItem("token"),a=Qe(),n=o.a.useState(!1),r=Object(d.a)(n,2),l=r[0],i=r[1],s=o.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=o.a.useState([]),h=Object(d.a)(g,2),f=h[0],E=h[1],v=o.a.useState([]),b=Object(d.a)(v,2),j=b[0],C=b[1],O=o.a.useState([]),S=Object(d.a)(O,2),k=S[0],x=S[1],w=o.a.useState([]),T=Object(d.a)(w,2),_=T[0],N=T[1],I=o.a.useState([]),D=Object(d.a)(I,2),z=D[0],A=D[1],B=o.a.useState([]),R=Object(d.a)(B,2),F=R[0],L=R[1],U=o.a.useState(0),G=Object(d.a)(U,2),M=G[0],V=G[1];if(o.a.useEffect((function(){fetch("https://ellipseapp.com/api/admin/get_all_events",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,t){return new Date(e.posted_on)-new Date(t.posted_on)})),E(e),C(e.filter((function(e){return"pending"===e.status}))),x(e.filter((function(e){return"active"===e.status})))})):401===e.status&&localStorage.removeItem("token")})),fetch("https://ellipseapp.com/api/admin/get_all_users",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){N(e)})):401===e.status&&localStorage.removeItem("token")})),fetch("https://ellipseapp.com/api/admin/reports",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){A(e)})):401===e.status&&localStorage.removeItem("token")})),fetch("https://ellipseapp.com/api/admin/feedback",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){L(e)})):401===e.status&&localStorage.removeItem("token")}))}),[t]),!t)return o.a.createElement(c.a,{to:"/"});var K=function(e){return function(){i(!0),p(e)}};return o.a.createElement("div",null,o.a.createElement("div",{className:a.root},o.a.createElement(P.a,{container:!0,component:"main"},o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,lg:2}),o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:8,lg:8},o.a.createElement(P.a,{container:!0,component:"maim",spacing:1},o.a.createElement(P.a,{item:!0,xs:12,md:4,lg:3},o.a.createElement(W.a,{className:a.fixedHeightPaper},o.a.createElement(y.a,null,"Total Events"),o.a.createElement(y.a,{component:"p",variant:"h4"},f.length))),o.a.createElement(P.a,{item:!0,xs:12,md:4,lg:3},o.a.createElement(W.a,{className:a.fixedHeightPaper},o.a.createElement(y.a,null,"Total Active Events"),o.a.createElement(y.a,{component:"p",variant:"h4"},k.length))),o.a.createElement(P.a,{item:!0,xs:12,md:4,lg:3},o.a.createElement(W.a,{className:a.fixedHeightPaper},o.a.createElement(y.a,null,"All Users"),o.a.createElement(y.a,{component:"p",variant:"h4"},_.length)))),o.a.createElement(W.a,{className:a.root2},o.a.createElement(H.a,{value:M,onChange:function(e,t){V(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},o.a.createElement(q.a,{label:"Pending Events"}),o.a.createElement(q.a,{label:"Active Events"}),o.a.createElement(q.a,{label:"All Events"}),o.a.createElement(q.a,{label:"Users"}),o.a.createElement(q.a,{label:"Reports"}),o.a.createElement(q.a,{label:"FeedBack"}),o.a.createElement(q.a,{label:"Add Keywods"}),o.a.createElement(q.a,{label:"Add Colleges"}))),o.a.createElement("div",{className:a.content},0===M&&o.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},j.map((function(e,t){return o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},o.a.createElement(J,{event:e,handleViewClick:K(e),name:e.name}))}))),1===M&&o.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},k.map((function(e,t){return o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},o.a.createElement(J,{event:e,handleViewClick:K(e),name:e.name}))}))),2===M&&o.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},f.map((function(e,t){return o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},o.a.createElement(J,{event:e,handleViewClick:K(e),name:e.name}))}))),3===M&&o.a.createElement(He,{users:_}),4===M&&o.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},z.map((function(e,t){return o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},o.a.createElement(Re,{report:e}))}))),5===M&&o.a.createElement(P.a,{container:!0,component:"main",alignItems:"center",spacing:1},F.map((function(e,t){return o.a.createElement(P.a,{item:!0,xs:12,sm:12,md:4,key:t},o.a.createElement(Le,{feedback:e}))}))),6===M&&o.a.createElement(Ve,null),7===M&&o.a.createElement(Ye,null)))),o.a.createElement("div",null,o.a.createElement(we,{open:l,event:u,handleClose:function(){i(!1)},name:u.name,startTime:u.start_time,endTime:u.finish_time,regEndTime:u.registrationEndTime,type:u.eventType,tags:u.tags,mode:u.eventMode,feeType:u.feesType}))))},Ze=Object(j.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(_.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(_.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(z.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(z.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(_.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function $e(e){var t=e.history,a=Ze(),n=localStorage.getItem("token");return o.a.createElement("div",{className:a.root},o.a.createElement(N.a,{position:"sticky"},o.a.createElement(I.a,null,o.a.createElement(y.a,{className:a.title,variant:"h6",noWrap:!0},"Ellipse"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(B.a,null)),o.a.createElement(D.a,{placeholder:"Search Events",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}})),o.a.createElement(h.a,{color:"secondary",onClick:function(){fetch("https://ellipseapp.com/api/admin/logout",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(e){200===e.status?e.json().then((function(e){localStorage.removeItem("token"),t.replace("/")})):401===e.status&&localStorage.removeItem("token")}))}},"Logout"))),o.a.createElement(Xe,null))}var et=function(){return o.a.createElement(i.a,null,o.a.createElement("div",null,o.a.createElement(c.d,null,o.a.createElement(c.b,{exact:!0,path:"/",component:T}),o.a.createElement(c.b,{exact:!0,path:"/home",component:$e}))))},tt=a(599),at=a(215),nt=Object(at.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}});Object(at.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}});l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(tt.a,{theme:nt},o.a.createElement(f.a,null,o.a.createElement(et,null)))),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.071f8df8.chunk.js.map